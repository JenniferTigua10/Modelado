(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function qr(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const W={},jt=[],Ie=()=>{},zo=()=>!1,Vs=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Hr=t=>t.startsWith("onUpdate:"),he=Object.assign,Kr=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Go=Object.prototype.hasOwnProperty,K=(t,e)=>Go.call(t,e),$=Array.isArray,Ct=t=>Ws(t)==="[object Map]",yi=t=>Ws(t)==="[object Set]",D=t=>typeof t=="function",ee=t=>typeof t=="string",st=t=>typeof t=="symbol",Z=t=>t!==null&&typeof t=="object",bi=t=>(Z(t)||D(t))&&D(t.then)&&D(t.catch),wi=Object.prototype.toString,Ws=t=>wi.call(t),Yo=t=>Ws(t).slice(8,-1),Si=t=>Ws(t)==="[object Object]",Vr=t=>ee(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Yt=qr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Js=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Qo=/-(\w)/g,Ze=Js(t=>t.replace(Qo,(e,s)=>s?s.toUpperCase():"")),Xo=/\B([A-Z])/g,gt=Js(t=>t.replace(Xo,"-$1").toLowerCase()),Ei=Js(t=>t.charAt(0).toUpperCase()+t.slice(1)),nr=Js(t=>t?`on${Ei(t)}`:""),Xe=(t,e)=>!Object.is(t,e),Rs=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Ti=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},Sr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let mn;const zs=()=>mn||(mn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Wr(t){if($(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=ee(r)?sa(r):Wr(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(ee(t)||Z(t))return t}const Zo=/;(?![^(]*\))/g,ea=/:([^]+)/,ta=/\/\*[^]*?\*\//g;function sa(t){const e={};return t.replace(ta,"").split(Zo).forEach(s=>{if(s){const r=s.split(ea);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Jr(t){let e="";if(ee(t))e=t;else if($(t))for(let s=0;s<t.length;s++){const r=Jr(t[s]);r&&(e+=r+" ")}else if(Z(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const ra="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",na=qr(ra);function ki(t){return!!t||t===""}const xi=t=>!!(t&&t.__v_isRef===!0),ut=t=>ee(t)?t:t==null?"":$(t)||Z(t)&&(t.toString===wi||!D(t.toString))?xi(t)?ut(t.value):JSON.stringify(t,Oi,2):String(t),Oi=(t,e)=>xi(e)?Oi(t,e.value):Ct(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[ir(r,i)+" =>"]=n,s),{})}:yi(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>ir(s))}:st(e)?ir(e):Z(e)&&!$(e)&&!Si(e)?String(e):e,ir=(t,e="")=>{var s;return st(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pe;class ia{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=pe,!e&&pe&&(this.index=(pe.scopes||(pe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=pe;try{return pe=this,e()}finally{pe=s}}}on(){++this._on===1&&(this.prevScope=pe,pe=this)}off(){this._on>0&&--this._on===0&&(pe=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function oa(){return pe}let Y;const or=new WeakSet;class Pi{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,pe&&pe.active&&pe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,or.has(this)&&(or.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ji(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,yn(this),Ci(this);const e=Y,s=Te;Y=this,Te=!0;try{return this.fn()}finally{Ri(this),Y=e,Te=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Yr(e);this.deps=this.depsTail=void 0,yn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?or.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Er(this)&&this.run()}get dirty(){return Er(this)}}let Ai=0,Qt,Xt;function ji(t,e=!1){if(t.flags|=8,e){t.next=Xt,Xt=t;return}t.next=Qt,Qt=t}function zr(){Ai++}function Gr(){if(--Ai>0)return;if(Xt){let e=Xt;for(Xt=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Qt;){let e=Qt;for(Qt=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function Ci(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ri(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),Yr(r),aa(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function Er(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ii(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ii(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===is)||(t.globalVersion=is,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Er(t))))return;t.flags|=2;const e=t.dep,s=Y,r=Te;Y=t,Te=!0;try{Ci(t);const n=t.fn(t._value);(e.version===0||Xe(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{Y=s,Te=r,Ri(t),t.flags&=-3}}function Yr(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Yr(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function aa(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Te=!0;const $i=[];function qe(){$i.push(Te),Te=!1}function He(){const t=$i.pop();Te=t===void 0?!0:t}function yn(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=Y;Y=void 0;try{e()}finally{Y=s}}}let is=0;class la{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Qr{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Y||!Te||Y===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Y)s=this.activeLink=new la(Y,this),Y.deps?(s.prevDep=Y.depsTail,Y.depsTail.nextDep=s,Y.depsTail=s):Y.deps=Y.depsTail=s,Ui(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=Y.depsTail,s.nextDep=void 0,Y.depsTail.nextDep=s,Y.depsTail=s,Y.deps===s&&(Y.deps=r)}return s}trigger(e){this.version++,is++,this.notify(e)}notify(e){zr();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Gr()}}}function Ui(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Ui(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Tr=new WeakMap,pt=Symbol(""),kr=Symbol(""),os=Symbol("");function ne(t,e,s){if(Te&&Y){let r=Tr.get(t);r||Tr.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new Qr),n.map=r,n.key=s),n.track()}}function Fe(t,e,s,r,n,i){const o=Tr.get(t);if(!o){is++;return}const a=l=>{l&&l.trigger()};if(zr(),e==="clear")o.forEach(a);else{const l=$(t),u=l&&Vr(s);if(l&&s==="length"){const c=Number(r);o.forEach((h,p)=>{(p==="length"||p===os||!st(p)&&p>=c)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(os)),e){case"add":l?u&&a(o.get("length")):(a(o.get(pt)),Ct(t)&&a(o.get(kr)));break;case"delete":l||(a(o.get(pt)),Ct(t)&&a(o.get(kr)));break;case"set":Ct(t)&&a(o.get(pt));break}}Gr()}function vt(t){const e=H(t);return e===t?e:(ne(e,"iterate",os),be(t)?e:e.map(re))}function Gs(t){return ne(t=H(t),"iterate",os),t}const ca={__proto__:null,[Symbol.iterator](){return ar(this,Symbol.iterator,re)},concat(...t){return vt(this).concat(...t.map(e=>$(e)?vt(e):e))},entries(){return ar(this,"entries",t=>(t[1]=re(t[1]),t))},every(t,e){return Ue(this,"every",t,e,void 0,arguments)},filter(t,e){return Ue(this,"filter",t,e,s=>s.map(re),arguments)},find(t,e){return Ue(this,"find",t,e,re,arguments)},findIndex(t,e){return Ue(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ue(this,"findLast",t,e,re,arguments)},findLastIndex(t,e){return Ue(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ue(this,"forEach",t,e,void 0,arguments)},includes(...t){return lr(this,"includes",t)},indexOf(...t){return lr(this,"indexOf",t)},join(t){return vt(this).join(t)},lastIndexOf(...t){return lr(this,"lastIndexOf",t)},map(t,e){return Ue(this,"map",t,e,void 0,arguments)},pop(){return Ht(this,"pop")},push(...t){return Ht(this,"push",t)},reduce(t,...e){return bn(this,"reduce",t,e)},reduceRight(t,...e){return bn(this,"reduceRight",t,e)},shift(){return Ht(this,"shift")},some(t,e){return Ue(this,"some",t,e,void 0,arguments)},splice(...t){return Ht(this,"splice",t)},toReversed(){return vt(this).toReversed()},toSorted(t){return vt(this).toSorted(t)},toSpliced(...t){return vt(this).toSpliced(...t)},unshift(...t){return Ht(this,"unshift",t)},values(){return ar(this,"values",re)}};function ar(t,e,s){const r=Gs(t),n=r[e]();return r!==t&&!be(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const ua=Array.prototype;function Ue(t,e,s,r,n,i){const o=Gs(t),a=o!==t&&!be(t),l=o[e];if(l!==ua[e]){const h=l.apply(t,i);return a?re(h):h}let u=s;o!==t&&(a?u=function(h,p){return s.call(this,re(h),p,t)}:s.length>2&&(u=function(h,p){return s.call(this,h,p,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function bn(t,e,s,r){const n=Gs(t);let i=s;return n!==t&&(be(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,re(a),l,t)}),n[e](i,...r)}function lr(t,e,s){const r=H(t);ne(r,"iterate",os);const n=r[e](...s);return(n===-1||n===!1)&&tn(s[0])?(s[0]=H(s[0]),r[e](...s)):n}function Ht(t,e,s=[]){qe(),zr();const r=H(t)[e].apply(t,s);return Gr(),He(),r}const ha=qr("__proto__,__v_isRef,__isVue"),Li=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(st));function da(t){st(t)||(t=String(t));const e=H(this);return ne(e,"has",t),e.hasOwnProperty(t)}class Di{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?Sa:Bi:i?Ni:Fi).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=$(e);if(!n){let l;if(o&&(l=ca[s]))return l;if(s==="hasOwnProperty")return da}const a=Reflect.get(e,s,ie(e)?e:r);return(st(s)?Li.has(s):ha(s))||(n||ne(e,"get",s),i)?a:ie(a)?o&&Vr(s)?a:a.value:Z(a)?n?qi(a):Zr(a):a}}class Mi extends Di{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=et(i);if(!be(r)&&!et(r)&&(i=H(i),r=H(r)),!$(e)&&ie(i)&&!ie(r))return l?!1:(i.value=r,!0)}const o=$(e)&&Vr(s)?Number(s)<e.length:K(e,s),a=Reflect.set(e,s,r,ie(e)?e:n);return e===H(n)&&(o?Xe(r,i)&&Fe(e,"set",s,r):Fe(e,"add",s,r)),a}deleteProperty(e,s){const r=K(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&Fe(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!st(s)||!Li.has(s))&&ne(e,"has",s),r}ownKeys(e){return ne(e,"iterate",$(e)?"length":pt),Reflect.ownKeys(e)}}class fa extends Di{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const pa=new Mi,ga=new fa,_a=new Mi(!0);const xr=t=>t,bs=t=>Reflect.getPrototypeOf(t);function va(t,e,s){return function(...r){const n=this.__v_raw,i=H(n),o=Ct(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?xr:e?Ls:re;return!e&&ne(i,"iterate",l?kr:pt),{next(){const{value:h,done:p}=u.next();return p?{value:h,done:p}:{value:a?[c(h[0]),c(h[1])]:c(h),done:p}},[Symbol.iterator](){return this}}}}function ws(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function ma(t,e){const s={get(n){const i=this.__v_raw,o=H(i),a=H(n);t||(Xe(n,a)&&ne(o,"get",n),ne(o,"get",a));const{has:l}=bs(o),u=e?xr:t?Ls:re;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&ne(H(n),"iterate",pt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=H(i),a=H(n);return t||(Xe(n,a)&&ne(o,"has",n),ne(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=H(a),u=e?xr:t?Ls:re;return!t&&ne(l,"iterate",pt),a.forEach((c,h)=>n.call(i,u(c),u(h),o))}};return he(s,t?{add:ws("add"),set:ws("set"),delete:ws("delete"),clear:ws("clear")}:{add(n){!e&&!be(n)&&!et(n)&&(n=H(n));const i=H(this);return bs(i).has.call(i,n)||(i.add(n),Fe(i,"add",n,n)),this},set(n,i){!e&&!be(i)&&!et(i)&&(i=H(i));const o=H(this),{has:a,get:l}=bs(o);let u=a.call(o,n);u||(n=H(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?Xe(i,c)&&Fe(o,"set",n,i):Fe(o,"add",n,i),this},delete(n){const i=H(this),{has:o,get:a}=bs(i);let l=o.call(i,n);l||(n=H(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&Fe(i,"delete",n,void 0),u},clear(){const n=H(this),i=n.size!==0,o=n.clear();return i&&Fe(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=va(n,t,e)}),s}function Xr(t,e){const s=ma(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(K(s,n)&&n in r?s:r,n,i)}const ya={get:Xr(!1,!1)},ba={get:Xr(!1,!0)},wa={get:Xr(!0,!1)};const Fi=new WeakMap,Ni=new WeakMap,Bi=new WeakMap,Sa=new WeakMap;function Ea(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ta(t){return t.__v_skip||!Object.isExtensible(t)?0:Ea(Yo(t))}function Zr(t){return et(t)?t:en(t,!1,pa,ya,Fi)}function ka(t){return en(t,!1,_a,ba,Ni)}function qi(t){return en(t,!0,ga,wa,Bi)}function en(t,e,s,r,n){if(!Z(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Ta(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?r:s);return n.set(t,a),a}function Rt(t){return et(t)?Rt(t.__v_raw):!!(t&&t.__v_isReactive)}function et(t){return!!(t&&t.__v_isReadonly)}function be(t){return!!(t&&t.__v_isShallow)}function tn(t){return t?!!t.__v_raw:!1}function H(t){const e=t&&t.__v_raw;return e?H(e):t}function xa(t){return!K(t,"__v_skip")&&Object.isExtensible(t)&&Ti(t,"__v_skip",!0),t}const re=t=>Z(t)?Zr(t):t,Ls=t=>Z(t)?qi(t):t;function ie(t){return t?t.__v_isRef===!0:!1}function Kt(t){return Oa(t,!1)}function Oa(t,e){return ie(t)?t:new Pa(t,e)}class Pa{constructor(e,s){this.dep=new Qr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:H(e),this._value=s?e:re(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||be(e)||et(e);e=r?e:H(e),Xe(e,s)&&(this._rawValue=e,this._value=r?e:re(e),this.dep.trigger())}}function Aa(t){return ie(t)?t.value:t}const ja={get:(t,e,s)=>e==="__v_raw"?t:Aa(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return ie(n)&&!ie(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function Hi(t){return Rt(t)?t:new Proxy(t,ja)}class Ca{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Qr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=is-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Y!==this)return ji(this,!0),!0}get value(){const e=this.dep.track();return Ii(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Ra(t,e,s=!1){let r,n;return D(t)?r=t:(r=t.get,n=t.set),new Ca(r,n,s)}const Ss={},Ds=new WeakMap;let ht;function Ia(t,e=!1,s=ht){if(s){let r=Ds.get(s);r||Ds.set(s,r=[]),r.push(t)}}function $a(t,e,s=W){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=E=>n?E:be(E)||n===!1||n===0?Ne(E,1):Ne(E);let c,h,p,g,w=!1,P=!1;if(ie(t)?(h=()=>t.value,w=be(t)):Rt(t)?(h=()=>u(t),w=!0):$(t)?(P=!0,w=t.some(E=>Rt(E)||be(E)),h=()=>t.map(E=>{if(ie(E))return E.value;if(Rt(E))return u(E);if(D(E))return l?l(E,2):E()})):D(t)?e?h=l?()=>l(t,2):t:h=()=>{if(p){qe();try{p()}finally{He()}}const E=ht;ht=c;try{return l?l(t,3,[g]):t(g)}finally{ht=E}}:h=Ie,e&&n){const E=h,L=n===!0?1/0:n;h=()=>Ne(E(),L)}const A=oa(),C=()=>{c.stop(),A&&A.active&&Kr(A.effects,c)};if(i&&e){const E=e;e=(...L)=>{E(...L),C()}}let M=P?new Array(t.length).fill(Ss):Ss;const k=E=>{if(!(!(c.flags&1)||!c.dirty&&!E))if(e){const L=c.run();if(n||w||(P?L.some((q,Q)=>Xe(q,M[Q])):Xe(L,M))){p&&p();const q=ht;ht=c;try{const Q=[L,M===Ss?void 0:P&&M[0]===Ss?[]:M,g];M=L,l?l(e,3,Q):e(...Q)}finally{ht=q}}}else c.run()};return a&&a(k),c=new Pi(h),c.scheduler=o?()=>o(k,!1):k,g=E=>Ia(E,!1,c),p=c.onStop=()=>{const E=Ds.get(c);if(E){if(l)l(E,4);else for(const L of E)L();Ds.delete(c)}},e?r?k(!0):M=c.run():o?o(k.bind(null,!0),!0):c.run(),C.pause=c.pause.bind(c),C.resume=c.resume.bind(c),C.stop=C,C}function Ne(t,e=1/0,s){if(e<=0||!Z(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,ie(t))Ne(t.value,e,s);else if($(t))for(let r=0;r<t.length;r++)Ne(t[r],e,s);else if(yi(t)||Ct(t))t.forEach(r=>{Ne(r,e,s)});else if(Si(t)){for(const r in t)Ne(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Ne(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function hs(t,e,s,r){try{return r?t(...r):t()}catch(n){Ys(n,e,s)}}function $e(t,e,s,r){if(D(t)){const n=hs(t,e,s,r);return n&&bi(n)&&n.catch(i=>{Ys(i,e,s)}),n}if($(t)){const n=[];for(let i=0;i<t.length;i++)n.push($e(t[i],e,s,r));return n}}function Ys(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||W;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(i){qe(),hs(i,null,10,[t,l,u]),He();return}}Ua(t,s,n,r,o)}function Ua(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const ce=[];let je=-1;const It=[];let ze=null,Ot=0;const Ki=Promise.resolve();let Ms=null;function La(t){const e=Ms||Ki;return t?e.then(this?t.bind(this):t):e}function Da(t){let e=je+1,s=ce.length;for(;e<s;){const r=e+s>>>1,n=ce[r],i=as(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function sn(t){if(!(t.flags&1)){const e=as(t),s=ce[ce.length-1];!s||!(t.flags&2)&&e>=as(s)?ce.push(t):ce.splice(Da(e),0,t),t.flags|=1,Vi()}}function Vi(){Ms||(Ms=Ki.then(Ji))}function Ma(t){$(t)?It.push(...t):ze&&t.id===-1?ze.splice(Ot+1,0,t):t.flags&1||(It.push(t),t.flags|=1),Vi()}function wn(t,e,s=je+1){for(;s<ce.length;s++){const r=ce[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;ce.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Wi(t){if(It.length){const e=[...new Set(It)].sort((s,r)=>as(s)-as(r));if(It.length=0,ze){ze.push(...e);return}for(ze=e,Ot=0;Ot<ze.length;Ot++){const s=ze[Ot];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}ze=null,Ot=0}}const as=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Ji(t){try{for(je=0;je<ce.length;je++){const e=ce[je];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),hs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;je<ce.length;je++){const e=ce[je];e&&(e.flags&=-2)}je=-1,ce.length=0,Wi(),Ms=null,(ce.length||It.length)&&Ji()}}let ye=null,zi=null;function Fs(t){const e=ye;return ye=t,zi=t&&t.type.__scopeId||null,e}function Fa(t,e=ye,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&jn(-1);const i=Fs(e);let o;try{o=t(...n)}finally{Fs(i),r._d&&jn(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Es(t,e){if(ye===null)return t;const s=er(ye),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=W]=e[n];i&&(D(i)&&(i={mounted:i,updated:i}),i.deep&&Ne(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function at(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(qe(),$e(l,s,8,[t.el,a,t,e]),He())}}const Na=Symbol("_vte"),Ba=t=>t.__isTeleport;function rn(t,e){t.shapeFlag&6&&t.component?(t.transition=e,rn(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Gi(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Ns(t,e,s,r,n=!1){if($(t)){t.forEach((w,P)=>Ns(w,e&&($(e)?e[P]:e),s,r,n));return}if(Zt(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Ns(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?er(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===W?a.refs={}:a.refs,h=a.setupState,p=H(h),g=h===W?()=>!1:w=>K(p,w);if(u!=null&&u!==l&&(ee(u)?(c[u]=null,g(u)&&(h[u]=null)):ie(u)&&(u.value=null)),D(l))hs(l,a,12,[o,c]);else{const w=ee(l),P=ie(l);if(w||P){const A=()=>{if(t.f){const C=w?g(l)?h[l]:c[l]:l.value;n?$(C)&&Kr(C,i):$(C)?C.includes(i)||C.push(i):w?(c[l]=[i],g(l)&&(h[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else w?(c[l]=o,g(l)&&(h[l]=o)):P&&(l.value=o,t.k&&(c[t.k]=o))};o?(A.id=-1,ve(A,s)):A()}}}zs().requestIdleCallback;zs().cancelIdleCallback;const Zt=t=>!!t.type.__asyncLoader,Yi=t=>t.type.__isKeepAlive;function qa(t,e){Qi(t,"a",e)}function Ha(t,e){Qi(t,"da",e)}function Qi(t,e,s=ue){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Qs(e,r,s),s){let n=s.parent;for(;n&&n.parent;)Yi(n.parent.vnode)&&Ka(r,e,s,n),n=n.parent}}function Ka(t,e,s,r){const n=Qs(e,t,r,!0);Zi(()=>{Kr(r[e],n)},s)}function Qs(t,e,s=ue,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{qe();const a=ds(s),l=$e(e,s,t,o);return a(),He(),l});return r?n.unshift(i):n.push(i),i}}const Ke=t=>(e,s=ue)=>{(!cs||t==="sp")&&Qs(t,(...r)=>e(...r),s)},Va=Ke("bm"),Xi=Ke("m"),Wa=Ke("bu"),Ja=Ke("u"),za=Ke("bum"),Zi=Ke("um"),Ga=Ke("sp"),Ya=Ke("rtg"),Qa=Ke("rtc");function Xa(t,e=ue){Qs("ec",t,e)}const Za=Symbol.for("v-ndc");function el(t,e,s,r){let n;const i=s,o=$(t);if(o||ee(t)){const a=o&&Rt(t);let l=!1,u=!1;a&&(l=!be(t),u=et(t),t=Gs(t)),n=new Array(t.length);for(let c=0,h=t.length;c<h;c++)n[c]=e(l?u?Ls(re(t[c])):re(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(Z(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i)}}else n=[];return n}const Or=t=>t?So(t)?er(t):Or(t.parent):null,es=he(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Or(t.parent),$root:t=>Or(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>to(t),$forceUpdate:t=>t.f||(t.f=()=>{sn(t.update)}),$nextTick:t=>t.n||(t.n=La.bind(t.proxy)),$watch:t=>Sl.bind(t)}),cr=(t,e)=>t!==W&&!t.__isScriptSetup&&K(t,e),tl={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(cr(r,e))return o[e]=1,r[e];if(n!==W&&K(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&K(u,e))return o[e]=3,i[e];if(s!==W&&K(s,e))return o[e]=4,s[e];Pr&&(o[e]=0)}}const c=es[e];let h,p;if(c)return e==="$attrs"&&ne(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==W&&K(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,K(p,e))return p[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return cr(n,e)?(n[e]=s,!0):r!==W&&K(r,e)?(r[e]=s,!0):K(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==W&&K(t,o)||cr(e,o)||(a=i[0])&&K(a,o)||K(r,o)||K(es,o)||K(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:K(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Sn(t){return $(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Pr=!0;function sl(t){const e=to(t),s=t.proxy,r=t.ctx;Pr=!1,e.beforeCreate&&En(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:p,beforeUpdate:g,updated:w,activated:P,deactivated:A,beforeDestroy:C,beforeUnmount:M,destroyed:k,unmounted:E,render:L,renderTracked:q,renderTriggered:Q,errorCaptured:Ve,serverPrefetch:gs,expose:nt,inheritAttrs:Ft,components:_s,directives:vs,filters:sr}=e;if(u&&rl(u,r,null),o)for(const X in o){const J=o[X];D(J)&&(r[X]=J.bind(s))}if(n){const X=n.call(s,s);Z(X)&&(t.data=Zr(X))}if(Pr=!0,i)for(const X in i){const J=i[X],it=D(J)?J.bind(s,s):D(J.get)?J.get.bind(s,s):Ie,ms=!D(J)&&D(J.set)?J.set.bind(s):Ie,ot=Hl({get:it,set:ms});Object.defineProperty(r,X,{enumerable:!0,configurable:!0,get:()=>ot.value,set:ke=>ot.value=ke})}if(a)for(const X in a)eo(a[X],r,s,X);if(l){const X=D(l)?l.call(s):l;Reflect.ownKeys(X).forEach(J=>{cl(J,X[J])})}c&&En(c,t,"c");function oe(X,J){$(J)?J.forEach(it=>X(it.bind(s))):J&&X(J.bind(s))}if(oe(Va,h),oe(Xi,p),oe(Wa,g),oe(Ja,w),oe(qa,P),oe(Ha,A),oe(Xa,Ve),oe(Qa,q),oe(Ya,Q),oe(za,M),oe(Zi,E),oe(Ga,gs),$(nt))if(nt.length){const X=t.exposed||(t.exposed={});nt.forEach(J=>{Object.defineProperty(X,J,{get:()=>s[J],set:it=>s[J]=it})})}else t.exposed||(t.exposed={});L&&t.render===Ie&&(t.render=L),Ft!=null&&(t.inheritAttrs=Ft),_s&&(t.components=_s),vs&&(t.directives=vs),gs&&Gi(t)}function rl(t,e,s=Ie){$(t)&&(t=Ar(t));for(const r in t){const n=t[r];let i;Z(n)?"default"in n?i=Is(n.from||r,n.default,!0):i=Is(n.from||r):i=Is(n),ie(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function En(t,e,s){$e($(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function eo(t,e,s,r){let n=r.includes(".")?go(s,r):()=>s[r];if(ee(t)){const i=e[t];D(i)&&hr(n,i)}else if(D(t))hr(n,t.bind(s));else if(Z(t))if($(t))t.forEach(i=>eo(i,e,s,r));else{const i=D(t.handler)?t.handler.bind(s):e[t.handler];D(i)&&hr(n,i,t)}}function to(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>Bs(l,u,o,!0)),Bs(l,e,o)),Z(e)&&i.set(e,l),l}function Bs(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&Bs(t,i,s,!0),n&&n.forEach(o=>Bs(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=nl[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const nl={data:Tn,props:kn,emits:kn,methods:zt,computed:zt,beforeCreate:ae,created:ae,beforeMount:ae,mounted:ae,beforeUpdate:ae,updated:ae,beforeDestroy:ae,beforeUnmount:ae,destroyed:ae,unmounted:ae,activated:ae,deactivated:ae,errorCaptured:ae,serverPrefetch:ae,components:zt,directives:zt,watch:ol,provide:Tn,inject:il};function Tn(t,e){return e?t?function(){return he(D(t)?t.call(this,this):t,D(e)?e.call(this,this):e)}:e:t}function il(t,e){return zt(Ar(t),Ar(e))}function Ar(t){if($(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function ae(t,e){return t?[...new Set([].concat(t,e))]:e}function zt(t,e){return t?he(Object.create(null),t,e):e}function kn(t,e){return t?$(t)&&$(e)?[...new Set([...t,...e])]:he(Object.create(null),Sn(t),Sn(e??{})):e}function ol(t,e){if(!t)return e;if(!e)return t;const s=he(Object.create(null),t);for(const r in e)s[r]=ae(t[r],e[r]);return s}function so(){return{app:null,config:{isNativeTag:zo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let al=0;function ll(t,e){return function(r,n=null){D(r)||(r=he({},r)),n!=null&&!Z(n)&&(n=null);const i=so(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:al++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:Kl,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&D(c.install)?(o.add(c),c.install(u,...h)):D(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,p){if(!l){const g=u._ceVNode||Be(r,n);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),t(g,c,p),l=!0,u._container=c,c.__vue_app__=u,er(g.component)}},onUnmount(c){a.push(c)},unmount(){l&&($e(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=$t;$t=u;try{return c()}finally{$t=h}}};return u}}let $t=null;function cl(t,e){if(ue){let s=ue.provides;const r=ue.parent&&ue.parent.provides;r===s&&(s=ue.provides=Object.create(r)),s[t]=e}}function Is(t,e,s=!1){const r=ue||ye;if(r||$t){let n=$t?$t._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&D(e)?e.call(r&&r.proxy):e}}const ro={},no=()=>Object.create(ro),io=t=>Object.getPrototypeOf(t)===ro;function ul(t,e,s,r=!1){const n={},i=no();t.propsDefaults=Object.create(null),oo(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:ka(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function hl(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=H(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let p=c[h];if(Xs(t.emitsOptions,p))continue;const g=e[p];if(l)if(K(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const w=Ze(p);n[w]=jr(l,a,w,g,t,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{oo(t,e,n,i)&&(u=!0);let c;for(const h in a)(!e||!K(e,h)&&((c=gt(h))===h||!K(e,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(n[h]=jr(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!K(e,h))&&(delete i[h],u=!0)}u&&Fe(t.attrs,"set","")}function oo(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Yt(l))continue;const u=e[l];let c;n&&K(n,c=Ze(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:Xs(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=H(s),u=a||W;for(let c=0;c<i.length;c++){const h=i[c];s[h]=jr(n,l,h,u[h],t,!K(u,h))}}return o}function jr(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=K(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&D(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=ds(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===gt(s))&&(r=!0))}return r}const dl=new WeakMap;function ao(t,e,s=!1){const r=s?dl:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!D(t)){const c=h=>{l=!0;const[p,g]=ao(h,e,!0);he(o,p),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return Z(t)&&r.set(t,jt),jt;if($(i))for(let c=0;c<i.length;c++){const h=Ze(i[c]);xn(h)&&(o[h]=W)}else if(i)for(const c in i){const h=Ze(c);if(xn(h)){const p=i[c],g=o[h]=$(p)||D(p)?{type:p}:he({},p),w=g.type;let P=!1,A=!0;if($(w))for(let C=0;C<w.length;++C){const M=w[C],k=D(M)&&M.name;if(k==="Boolean"){P=!0;break}else k==="String"&&(A=!1)}else P=D(w)&&w.name==="Boolean";g[0]=P,g[1]=A,(P||K(g,"default"))&&a.push(h)}}const u=[o,a];return Z(t)&&r.set(t,u),u}function xn(t){return t[0]!=="$"&&!Yt(t)}const nn=t=>t[0]==="_"||t==="$stable",on=t=>$(t)?t.map(Re):[Re(t)],fl=(t,e,s)=>{if(e._n)return e;const r=Fa((...n)=>on(e(...n)),s);return r._c=!1,r},lo=(t,e,s)=>{const r=t._ctx;for(const n in t){if(nn(n))continue;const i=t[n];if(D(i))e[n]=fl(n,i,r);else if(i!=null){const o=on(i);e[n]=()=>o}}},co=(t,e)=>{const s=on(e);t.slots.default=()=>s},uo=(t,e,s)=>{for(const r in e)(s||!nn(r))&&(t[r]=e[r])},pl=(t,e,s)=>{const r=t.slots=no();if(t.vnode.shapeFlag&32){const n=e._;n?(uo(r,e,s),s&&Ti(r,"_",n,!0)):lo(e,r)}else e&&co(t,e)},gl=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=W;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:uo(n,e,s):(i=!e.$stable,lo(e,n)),o=e}else e&&(co(t,e),o={default:1});if(i)for(const a in n)!nn(a)&&o[a]==null&&delete n[a]},ve=Al;function _l(t){return vl(t)}function vl(t,e){const s=zs();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:p,setScopeId:g=Ie,insertStaticContent:w}=t,P=(d,f,_,y=null,v=null,m=null,x=void 0,T=null,S=!!f.dynamicChildren)=>{if(d===f)return;d&&!Vt(d,f)&&(y=ys(d),ke(d,v,m,!0),d=null),f.patchFlag===-2&&(S=!1,f.dynamicChildren=null);const{type:b,ref:R,shapeFlag:O}=f;switch(b){case Zs:A(d,f,_,y);break;case tt:C(d,f,_,y);break;case dr:d==null&&M(f,_,y,x);break;case Ee:_s(d,f,_,y,v,m,x,T,S);break;default:O&1?L(d,f,_,y,v,m,x,T,S):O&6?vs(d,f,_,y,v,m,x,T,S):(O&64||O&128)&&b.process(d,f,_,y,v,m,x,T,S,Bt)}R!=null&&v&&Ns(R,d&&d.ref,m,f||d,!f)},A=(d,f,_,y)=>{if(d==null)r(f.el=a(f.children),_,y);else{const v=f.el=d.el;f.children!==d.children&&u(v,f.children)}},C=(d,f,_,y)=>{d==null?r(f.el=l(f.children||""),_,y):f.el=d.el},M=(d,f,_,y)=>{[d.el,d.anchor]=w(d.children,f,_,y,d.el,d.anchor)},k=({el:d,anchor:f},_,y)=>{let v;for(;d&&d!==f;)v=p(d),r(d,_,y),d=v;r(f,_,y)},E=({el:d,anchor:f})=>{let _;for(;d&&d!==f;)_=p(d),n(d),d=_;n(f)},L=(d,f,_,y,v,m,x,T,S)=>{f.type==="svg"?x="svg":f.type==="math"&&(x="mathml"),d==null?q(f,_,y,v,m,x,T,S):gs(d,f,v,m,x,T,S)},q=(d,f,_,y,v,m,x,T)=>{let S,b;const{props:R,shapeFlag:O,transition:j,dirs:I}=d;if(S=d.el=o(d.type,m,R&&R.is,R),O&8?c(S,d.children):O&16&&Ve(d.children,S,null,y,v,ur(d,m),x,T),I&&at(d,null,y,"created"),Q(S,d,d.scopeId,x,y),R){for(const z in R)z!=="value"&&!Yt(z)&&i(S,z,null,R[z],m,y);"value"in R&&i(S,"value",null,R.value,m),(b=R.onVnodeBeforeMount)&&Ae(b,y,d)}I&&at(d,null,y,"beforeMount");const N=ml(v,j);N&&j.beforeEnter(S),r(S,f,_),((b=R&&R.onVnodeMounted)||N||I)&&ve(()=>{b&&Ae(b,y,d),N&&j.enter(S),I&&at(d,null,y,"mounted")},v)},Q=(d,f,_,y,v)=>{if(_&&g(d,_),y)for(let m=0;m<y.length;m++)g(d,y[m]);if(v){let m=v.subTree;if(f===m||vo(m.type)&&(m.ssContent===f||m.ssFallback===f)){const x=v.vnode;Q(d,x,x.scopeId,x.slotScopeIds,v.parent)}}},Ve=(d,f,_,y,v,m,x,T,S=0)=>{for(let b=S;b<d.length;b++){const R=d[b]=T?Ge(d[b]):Re(d[b]);P(null,R,f,_,y,v,m,x,T)}},gs=(d,f,_,y,v,m,x)=>{const T=f.el=d.el;let{patchFlag:S,dynamicChildren:b,dirs:R}=f;S|=d.patchFlag&16;const O=d.props||W,j=f.props||W;let I;if(_&&lt(_,!1),(I=j.onVnodeBeforeUpdate)&&Ae(I,_,f,d),R&&at(f,d,_,"beforeUpdate"),_&&lt(_,!0),(O.innerHTML&&j.innerHTML==null||O.textContent&&j.textContent==null)&&c(T,""),b?nt(d.dynamicChildren,b,T,_,y,ur(f,v),m):x||J(d,f,T,null,_,y,ur(f,v),m,!1),S>0){if(S&16)Ft(T,O,j,_,v);else if(S&2&&O.class!==j.class&&i(T,"class",null,j.class,v),S&4&&i(T,"style",O.style,j.style,v),S&8){const N=f.dynamicProps;for(let z=0;z<N.length;z++){const V=N[z],ge=O[V],de=j[V];(de!==ge||V==="value")&&i(T,V,ge,de,v,_)}}S&1&&d.children!==f.children&&c(T,f.children)}else!x&&b==null&&Ft(T,O,j,_,v);((I=j.onVnodeUpdated)||R)&&ve(()=>{I&&Ae(I,_,f,d),R&&at(f,d,_,"updated")},y)},nt=(d,f,_,y,v,m,x)=>{for(let T=0;T<f.length;T++){const S=d[T],b=f[T],R=S.el&&(S.type===Ee||!Vt(S,b)||S.shapeFlag&198)?h(S.el):_;P(S,b,R,null,y,v,m,x,!0)}},Ft=(d,f,_,y,v)=>{if(f!==_){if(f!==W)for(const m in f)!Yt(m)&&!(m in _)&&i(d,m,f[m],null,v,y);for(const m in _){if(Yt(m))continue;const x=_[m],T=f[m];x!==T&&m!=="value"&&i(d,m,T,x,v,y)}"value"in _&&i(d,"value",f.value,_.value,v)}},_s=(d,f,_,y,v,m,x,T,S)=>{const b=f.el=d?d.el:a(""),R=f.anchor=d?d.anchor:a("");let{patchFlag:O,dynamicChildren:j,slotScopeIds:I}=f;I&&(T=T?T.concat(I):I),d==null?(r(b,_,y),r(R,_,y),Ve(f.children||[],_,R,v,m,x,T,S)):O>0&&O&64&&j&&d.dynamicChildren?(nt(d.dynamicChildren,j,_,v,m,x,T),(f.key!=null||v&&f===v.subTree)&&ho(d,f,!0)):J(d,f,_,R,v,m,x,T,S)},vs=(d,f,_,y,v,m,x,T,S)=>{f.slotScopeIds=T,d==null?f.shapeFlag&512?v.ctx.activate(f,_,y,x,S):sr(f,_,y,v,m,x,S):fn(d,f,S)},sr=(d,f,_,y,v,m,x)=>{const T=d.component=Dl(d,y,v);if(Yi(d)&&(T.ctx.renderer=Bt),Ml(T,!1,x),T.asyncDep){if(v&&v.registerDep(T,oe,x),!d.el){const S=T.subTree=Be(tt);C(null,S,f,_)}}else oe(T,d,f,_,v,m,x)},fn=(d,f,_)=>{const y=f.component=d.component;if(Ol(d,f,_))if(y.asyncDep&&!y.asyncResolved){X(y,f,_);return}else y.next=f,y.update();else f.el=d.el,y.vnode=f},oe=(d,f,_,y,v,m,x)=>{const T=()=>{if(d.isMounted){let{next:O,bu:j,u:I,parent:N,vnode:z}=d;{const Oe=fo(d);if(Oe){O&&(O.el=z.el,X(d,O,x)),Oe.asyncDep.then(()=>{d.isUnmounted||T()});return}}let V=O,ge;lt(d,!1),O?(O.el=z.el,X(d,O,x)):O=z,j&&Rs(j),(ge=O.props&&O.props.onVnodeBeforeUpdate)&&Ae(ge,N,O,z),lt(d,!0);const de=Pn(d),xe=d.subTree;d.subTree=de,P(xe,de,h(xe.el),ys(xe),d,v,m),O.el=de.el,V===null&&Pl(d,de.el),I&&ve(I,v),(ge=O.props&&O.props.onVnodeUpdated)&&ve(()=>Ae(ge,N,O,z),v)}else{let O;const{el:j,props:I}=f,{bm:N,m:z,parent:V,root:ge,type:de}=d,xe=Zt(f);lt(d,!1),N&&Rs(N),!xe&&(O=I&&I.onVnodeBeforeMount)&&Ae(O,V,f),lt(d,!0);{ge.ce&&ge.ce._injectChildStyle(de);const Oe=d.subTree=Pn(d);P(null,Oe,_,y,d,v,m),f.el=Oe.el}if(z&&ve(z,v),!xe&&(O=I&&I.onVnodeMounted)){const Oe=f;ve(()=>Ae(O,V,Oe),v)}(f.shapeFlag&256||V&&Zt(V.vnode)&&V.vnode.shapeFlag&256)&&d.a&&ve(d.a,v),d.isMounted=!0,f=_=y=null}};d.scope.on();const S=d.effect=new Pi(T);d.scope.off();const b=d.update=S.run.bind(S),R=d.job=S.runIfDirty.bind(S);R.i=d,R.id=d.uid,S.scheduler=()=>sn(R),lt(d,!0),b()},X=(d,f,_)=>{f.component=d;const y=d.vnode.props;d.vnode=f,d.next=null,hl(d,f.props,y,_),gl(d,f.children,_),qe(),wn(d),He()},J=(d,f,_,y,v,m,x,T,S=!1)=>{const b=d&&d.children,R=d?d.shapeFlag:0,O=f.children,{patchFlag:j,shapeFlag:I}=f;if(j>0){if(j&128){ms(b,O,_,y,v,m,x,T,S);return}else if(j&256){it(b,O,_,y,v,m,x,T,S);return}}I&8?(R&16&&Nt(b,v,m),O!==b&&c(_,O)):R&16?I&16?ms(b,O,_,y,v,m,x,T,S):Nt(b,v,m,!0):(R&8&&c(_,""),I&16&&Ve(O,_,y,v,m,x,T,S))},it=(d,f,_,y,v,m,x,T,S)=>{d=d||jt,f=f||jt;const b=d.length,R=f.length,O=Math.min(b,R);let j;for(j=0;j<O;j++){const I=f[j]=S?Ge(f[j]):Re(f[j]);P(d[j],I,_,null,v,m,x,T,S)}b>R?Nt(d,v,m,!0,!1,O):Ve(f,_,y,v,m,x,T,S,O)},ms=(d,f,_,y,v,m,x,T,S)=>{let b=0;const R=f.length;let O=d.length-1,j=R-1;for(;b<=O&&b<=j;){const I=d[b],N=f[b]=S?Ge(f[b]):Re(f[b]);if(Vt(I,N))P(I,N,_,null,v,m,x,T,S);else break;b++}for(;b<=O&&b<=j;){const I=d[O],N=f[j]=S?Ge(f[j]):Re(f[j]);if(Vt(I,N))P(I,N,_,null,v,m,x,T,S);else break;O--,j--}if(b>O){if(b<=j){const I=j+1,N=I<R?f[I].el:y;for(;b<=j;)P(null,f[b]=S?Ge(f[b]):Re(f[b]),_,N,v,m,x,T,S),b++}}else if(b>j)for(;b<=O;)ke(d[b],v,m,!0),b++;else{const I=b,N=b,z=new Map;for(b=N;b<=j;b++){const _e=f[b]=S?Ge(f[b]):Re(f[b]);_e.key!=null&&z.set(_e.key,b)}let V,ge=0;const de=j-N+1;let xe=!1,Oe=0;const qt=new Array(de);for(b=0;b<de;b++)qt[b]=0;for(b=I;b<=O;b++){const _e=d[b];if(ge>=de){ke(_e,v,m,!0);continue}let Pe;if(_e.key!=null)Pe=z.get(_e.key);else for(V=N;V<=j;V++)if(qt[V-N]===0&&Vt(_e,f[V])){Pe=V;break}Pe===void 0?ke(_e,v,m,!0):(qt[Pe-N]=b+1,Pe>=Oe?Oe=Pe:xe=!0,P(_e,f[Pe],_,null,v,m,x,T,S),ge++)}const _n=xe?yl(qt):jt;for(V=_n.length-1,b=de-1;b>=0;b--){const _e=N+b,Pe=f[_e],vn=_e+1<R?f[_e+1].el:y;qt[b]===0?P(null,Pe,_,vn,v,m,x,T,S):xe&&(V<0||b!==_n[V]?ot(Pe,_,vn,2):V--)}}},ot=(d,f,_,y,v=null)=>{const{el:m,type:x,transition:T,children:S,shapeFlag:b}=d;if(b&6){ot(d.component.subTree,f,_,y);return}if(b&128){d.suspense.move(f,_,y);return}if(b&64){x.move(d,f,_,Bt);return}if(x===Ee){r(m,f,_);for(let O=0;O<S.length;O++)ot(S[O],f,_,y);r(d.anchor,f,_);return}if(x===dr){k(d,f,_);return}if(y!==2&&b&1&&T)if(y===0)T.beforeEnter(m),r(m,f,_),ve(()=>T.enter(m),v);else{const{leave:O,delayLeave:j,afterLeave:I}=T,N=()=>{d.ctx.isUnmounted?n(m):r(m,f,_)},z=()=>{O(m,()=>{N(),I&&I()})};j?j(m,N,z):z()}else r(m,f,_)},ke=(d,f,_,y=!1,v=!1)=>{const{type:m,props:x,ref:T,children:S,dynamicChildren:b,shapeFlag:R,patchFlag:O,dirs:j,cacheIndex:I}=d;if(O===-2&&(v=!1),T!=null&&(qe(),Ns(T,null,_,d,!0),He()),I!=null&&(f.renderCache[I]=void 0),R&256){f.ctx.deactivate(d);return}const N=R&1&&j,z=!Zt(d);let V;if(z&&(V=x&&x.onVnodeBeforeUnmount)&&Ae(V,f,d),R&6)Jo(d.component,_,y);else{if(R&128){d.suspense.unmount(_,y);return}N&&at(d,null,f,"beforeUnmount"),R&64?d.type.remove(d,f,_,Bt,y):b&&!b.hasOnce&&(m!==Ee||O>0&&O&64)?Nt(b,f,_,!1,!0):(m===Ee&&O&384||!v&&R&16)&&Nt(S,f,_),y&&pn(d)}(z&&(V=x&&x.onVnodeUnmounted)||N)&&ve(()=>{V&&Ae(V,f,d),N&&at(d,null,f,"unmounted")},_)},pn=d=>{const{type:f,el:_,anchor:y,transition:v}=d;if(f===Ee){Wo(_,y);return}if(f===dr){E(d);return}const m=()=>{n(_),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(d.shapeFlag&1&&v&&!v.persisted){const{leave:x,delayLeave:T}=v,S=()=>x(_,m);T?T(d.el,m,S):S()}else m()},Wo=(d,f)=>{let _;for(;d!==f;)_=p(d),n(d),d=_;n(f)},Jo=(d,f,_)=>{const{bum:y,scope:v,job:m,subTree:x,um:T,m:S,a:b,parent:R,slots:{__:O}}=d;On(S),On(b),y&&Rs(y),R&&$(O)&&O.forEach(j=>{R.renderCache[j]=void 0}),v.stop(),m&&(m.flags|=8,ke(x,d,f,_)),T&&ve(T,f),ve(()=>{d.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},Nt=(d,f,_,y=!1,v=!1,m=0)=>{for(let x=m;x<d.length;x++)ke(d[x],f,_,y,v)},ys=d=>{if(d.shapeFlag&6)return ys(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const f=p(d.anchor||d.el),_=f&&f[Na];return _?p(_):f};let rr=!1;const gn=(d,f,_)=>{d==null?f._vnode&&ke(f._vnode,null,null,!0):P(f._vnode||null,d,f,null,null,null,_),f._vnode=d,rr||(rr=!0,wn(),Wi(),rr=!1)},Bt={p:P,um:ke,m:ot,r:pn,mt:sr,mc:Ve,pc:J,pbc:nt,n:ys,o:t};return{render:gn,hydrate:void 0,createApp:ll(gn)}}function ur({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function lt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function ml(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function ho(t,e,s=!1){const r=t.children,n=e.children;if($(r)&&$(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=Ge(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&ho(o,a)),a.type===Zs&&(a.el=o.el),a.type===tt&&!a.el&&(a.el=o.el)}}function yl(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function fo(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:fo(e)}function On(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const bl=Symbol.for("v-scx"),wl=()=>Is(bl);function hr(t,e,s){return po(t,e,s)}function po(t,e,s=W){const{immediate:r,deep:n,flush:i,once:o}=s,a=he({},s),l=e&&r||!e&&i!=="post";let u;if(cs){if(i==="sync"){const g=wl();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=Ie,g.resume=Ie,g.pause=Ie,g}}const c=ue;a.call=(g,w,P)=>$e(g,c,w,P);let h=!1;i==="post"?a.scheduler=g=>{ve(g,c&&c.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(g,w)=>{w?g():sn(g)}),a.augmentJob=g=>{e&&(g.flags|=4),h&&(g.flags|=2,c&&(g.id=c.uid,g.i=c))};const p=$a(t,e,a);return cs&&(u?u.push(p):l&&p()),p}function Sl(t,e,s){const r=this.proxy,n=ee(t)?t.includes(".")?go(r,t):()=>r[t]:t.bind(r,r);let i;D(e)?i=e:(i=e.handler,s=e);const o=ds(this),a=po(n,i.bind(r),s);return o(),a}function go(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const El=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ze(e)}Modifiers`]||t[`${gt(e)}Modifiers`];function Tl(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||W;let n=s;const i=e.startsWith("update:"),o=i&&El(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>ee(c)?c.trim():c)),o.number&&(n=s.map(Sr)));let a,l=r[a=nr(e)]||r[a=nr(Ze(e))];!l&&i&&(l=r[a=nr(gt(e))]),l&&$e(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,$e(u,t,6,n)}}function _o(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!D(t)){const l=u=>{const c=_o(u,e,!0);c&&(a=!0,he(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Z(t)&&r.set(t,null),null):($(i)?i.forEach(l=>o[l]=null):he(o,i),Z(t)&&r.set(t,o),o)}function Xs(t,e){return!t||!Vs(e)?!1:(e=e.slice(2).replace(/Once$/,""),K(t,e[0].toLowerCase()+e.slice(1))||K(t,gt(e))||K(t,e))}function Pn(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:p,setupState:g,ctx:w,inheritAttrs:P}=t,A=Fs(t);let C,M;try{if(s.shapeFlag&4){const E=n||r,L=E;C=Re(u.call(L,E,c,h,g,p,w)),M=a}else{const E=e;C=Re(E.length>1?E(h,{attrs:a,slots:o,emit:l}):E(h,null)),M=e.props?a:kl(a)}}catch(E){ts.length=0,Ys(E,t,1),C=Be(tt)}let k=C;if(M&&P!==!1){const E=Object.keys(M),{shapeFlag:L}=k;E.length&&L&7&&(i&&E.some(Hr)&&(M=xl(M,i)),k=Lt(k,M,!1,!0))}return s.dirs&&(k=Lt(k,null,!1,!0),k.dirs=k.dirs?k.dirs.concat(s.dirs):s.dirs),s.transition&&rn(k,s.transition),C=k,Fs(A),C}const kl=t=>{let e;for(const s in t)(s==="class"||s==="style"||Vs(s))&&((e||(e={}))[s]=t[s]);return e},xl=(t,e)=>{const s={};for(const r in t)(!Hr(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function Ol(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?An(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const p=c[h];if(o[p]!==r[p]&&!Xs(u,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?An(r,o,u):!0:!!o;return!1}function An(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!Xs(s,i))return!0}return!1}function Pl({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const vo=t=>t.__isSuspense;function Al(t,e){e&&e.pendingBranch?$(t)?e.effects.push(...t):e.effects.push(t):Ma(t)}const Ee=Symbol.for("v-fgt"),Zs=Symbol.for("v-txt"),tt=Symbol.for("v-cmt"),dr=Symbol.for("v-stc"),ts=[];let me=null;function Ce(t=!1){ts.push(me=t?null:[])}function jl(){ts.pop(),me=ts[ts.length-1]||null}let ls=1;function jn(t,e=!1){ls+=t,t<0&&me&&e&&(me.hasOnce=!0)}function mo(t){return t.dynamicChildren=ls>0?me||jt:null,jl(),ls>0&&me&&me.push(t),t}function We(t,e,s,r,n,i){return mo(B(t,e,s,r,n,i,!0))}function yo(t,e,s,r,n){return mo(Be(t,e,s,r,n,!0))}function bo(t){return t?t.__v_isVNode===!0:!1}function Vt(t,e){return t.type===e.type&&t.key===e.key}const wo=({key:t})=>t??null,$s=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?ee(t)||ie(t)||D(t)?{i:ye,r:t,k:e,f:!!s}:t:null);function B(t,e=null,s=null,r=0,n=null,i=t===Ee?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&wo(e),ref:e&&$s(e),scopeId:zi,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:ye};return a?(an(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=ee(s)?8:16),ls>0&&!o&&me&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&me.push(l),l}const Be=Cl;function Cl(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===Za)&&(t=tt),bo(t)){const a=Lt(t,e,!0);return s&&an(a,s),ls>0&&!i&&me&&(a.shapeFlag&6?me[me.indexOf(t)]=a:me.push(a)),a.patchFlag=-2,a}if(ql(t)&&(t=t.__vccOpts),e){e=Rl(e);let{class:a,style:l}=e;a&&!ee(a)&&(e.class=Jr(a)),Z(l)&&(tn(l)&&!$(l)&&(l=he({},l)),e.style=Wr(l))}const o=ee(t)?1:vo(t)?128:Ba(t)?64:Z(t)?4:D(t)?2:0;return B(t,e,s,r,n,o,i,!0)}function Rl(t){return t?tn(t)||io(t)?he({},t):t:null}function Lt(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?$l(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&wo(u),ref:e&&e.ref?s&&i?$(i)?i.concat($s(e)):[i,$s(e)]:$s(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ee?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Lt(t.ssContent),ssFallback:t.ssFallback&&Lt(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&rn(c,l.clone(c)),c}function Il(t=" ",e=0){return Be(Zs,null,t,e)}function Cn(t="",e=!1){return e?(Ce(),yo(tt,null,t)):Be(tt,null,t)}function Re(t){return t==null||typeof t=="boolean"?Be(tt):$(t)?Be(Ee,null,t.slice()):bo(t)?Ge(t):Be(Zs,null,String(t))}function Ge(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Lt(t)}function an(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if($(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),an(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!io(e)?e._ctx=ye:n===3&&ye&&(ye.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else D(e)?(e={default:e,_ctx:ye},s=32):(e=String(e),r&64?(s=16,e=[Il(e)]):s=8);t.children=e,t.shapeFlag|=s}function $l(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=Jr([e.class,r.class]));else if(n==="style")e.style=Wr([e.style,r.style]);else if(Vs(n)){const i=e[n],o=r[n];o&&i!==o&&!($(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function Ae(t,e,s,r=null){$e(t,e,7,[s,r])}const Ul=so();let Ll=0;function Dl(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||Ul,i={uid:Ll++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ia(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ao(r,n),emitsOptions:_o(r,n),emit:null,emitted:null,propsDefaults:W,inheritAttrs:r.inheritAttrs,ctx:W,data:W,props:W,attrs:W,slots:W,refs:W,setupState:W,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Tl.bind(null,i),t.ce&&t.ce(i),i}let ue=null,qs,Cr;{const t=zs(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};qs=e("__VUE_INSTANCE_SETTERS__",s=>ue=s),Cr=e("__VUE_SSR_SETTERS__",s=>cs=s)}const ds=t=>{const e=ue;return qs(t),t.scope.on(),()=>{t.scope.off(),qs(e)}},Rn=()=>{ue&&ue.scope.off(),qs(null)};function So(t){return t.vnode.shapeFlag&4}let cs=!1;function Ml(t,e=!1,s=!1){e&&Cr(e);const{props:r,children:n}=t.vnode,i=So(t);ul(t,r,i,e),pl(t,n,s||e);const o=i?Fl(t,e):void 0;return e&&Cr(!1),o}function Fl(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,tl);const{setup:r}=s;if(r){qe();const n=t.setupContext=r.length>1?Bl(t):null,i=ds(t),o=hs(r,t,0,[t.props,n]),a=bi(o);if(He(),i(),(a||t.sp)&&!Zt(t)&&Gi(t),a){if(o.then(Rn,Rn),e)return o.then(l=>{In(t,l)}).catch(l=>{Ys(l,t,0)});t.asyncDep=o}else In(t,o)}else Eo(t)}function In(t,e,s){D(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Z(e)&&(t.setupState=Hi(e)),Eo(t)}function Eo(t,e,s){const r=t.type;t.render||(t.render=r.render||Ie);{const n=ds(t);qe();try{sl(t)}finally{He(),n()}}}const Nl={get(t,e){return ne(t,"get",""),t[e]}};function Bl(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Nl),slots:t.slots,emit:t.emit,expose:e}}function er(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Hi(xa(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in es)return es[s](t)},has(e,s){return s in e||s in es}})):t.proxy}function ql(t){return D(t)&&"__vccOpts"in t}const Hl=(t,e)=>Ra(t,e,cs),Kl="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rr;const $n=typeof window<"u"&&window.trustedTypes;if($n)try{Rr=$n.createPolicy("vue",{createHTML:t=>t})}catch{}const To=Rr?t=>Rr.createHTML(t):t=>t,Vl="http://www.w3.org/2000/svg",Wl="http://www.w3.org/1998/Math/MathML",De=typeof document<"u"?document:null,Un=De&&De.createElement("template"),Jl={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?De.createElementNS(Vl,t):e==="mathml"?De.createElementNS(Wl,t):s?De.createElement(t,{is:s}):De.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>De.createTextNode(t),createComment:t=>De.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>De.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Un.innerHTML=To(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Un.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},zl=Symbol("_vtc");function Gl(t,e,s){const r=t[zl];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Ln=Symbol("_vod"),Yl=Symbol("_vsh"),Ql=Symbol(""),Xl=/(^|;)\s*display\s*:/;function Zl(t,e,s){const r=t.style,n=ee(s);let i=!1;if(s&&!n){if(e)if(ee(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Us(r,a,"")}else for(const o in e)s[o]==null&&Us(r,o,"");for(const o in s)o==="display"&&(i=!0),Us(r,o,s[o])}else if(n){if(e!==s){const o=r[Ql];o&&(s+=";"+o),r.cssText=s,i=Xl.test(s)}}else e&&t.removeAttribute("style");Ln in t&&(t[Ln]=i?r.display:"",t[Yl]&&(r.display="none"))}const Dn=/\s*!important$/;function Us(t,e,s){if($(s))s.forEach(r=>Us(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=ec(t,e);Dn.test(s)?t.setProperty(gt(r),s.replace(Dn,""),"important"):t[r]=s}}const Mn=["Webkit","Moz","ms"],fr={};function ec(t,e){const s=fr[e];if(s)return s;let r=Ze(e);if(r!=="filter"&&r in t)return fr[e]=r;r=Ei(r);for(let n=0;n<Mn.length;n++){const i=Mn[n]+r;if(i in t)return fr[e]=i}return e}const Fn="http://www.w3.org/1999/xlink";function Nn(t,e,s,r,n,i=na(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Fn,e.slice(6,e.length)):t.setAttributeNS(Fn,e,s):s==null||i&&!ki(s)?t.removeAttribute(e):t.setAttribute(e,i?"":st(s)?String(s):s)}function Bn(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?To(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=ki(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function Pt(t,e,s,r){t.addEventListener(e,s,r)}function tc(t,e,s,r){t.removeEventListener(e,s,r)}const qn=Symbol("_vei");function sc(t,e,s,r,n=null){const i=t[qn]||(t[qn]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=rc(e);if(r){const u=i[e]=oc(r,n);Pt(t,a,u,l)}else o&&(tc(t,a,o,l),i[e]=void 0)}}const Hn=/(?:Once|Passive|Capture)$/;function rc(t){let e;if(Hn.test(t)){e={};let r;for(;r=t.match(Hn);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):gt(t.slice(2)),e]}let pr=0;const nc=Promise.resolve(),ic=()=>pr||(nc.then(()=>pr=0),pr=Date.now());function oc(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;$e(ac(r,s.value),e,5,[r])};return s.value=t,s.attached=ic(),s}function ac(t,e){if($(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const Kn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,lc=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?Gl(t,r,o):e==="style"?Zl(t,s,r):Vs(e)?Hr(e)||sc(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):cc(t,e,r,o))?(Bn(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Nn(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ee(r))?Bn(t,Ze(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Nn(t,e,r,o))};function cc(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Kn(e)&&D(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Kn(e)&&ee(s)?!1:e in t}const Vn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return $(e)?s=>Rs(e,s):e};function uc(t){t.target.composing=!0}function Wn(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const gr=Symbol("_assign"),Ts={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[gr]=Vn(n);const i=r||n.props&&n.props.type==="number";Pt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=Sr(a)),t[gr](a)}),s&&Pt(t,"change",()=>{t.value=t.value.trim()}),e||(Pt(t,"compositionstart",uc),Pt(t,"compositionend",Wn),Pt(t,"change",Wn))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[gr]=Vn(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Sr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},hc=["ctrl","shift","alt","meta"],dc={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>hc.some(s=>t[`${s}Key`]&&!e.includes(s))},fc=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=dc[e[o]];if(a&&a(n,e))return}return t(n,...i)})},pc=he({patchProp:lc},Jl);let Jn;function gc(){return Jn||(Jn=_l(pc))}const _c=(...t)=>{const e=gc().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=mc(r);if(!n)return;const i=e._component;!D(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,vc(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function vc(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function mc(t){return ee(t)?document.querySelector(t):t}const yc="modulepreload",bc=function(t){return"/"+t},zn={},fs=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){let o=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=o(s.map(u=>{if(u=bc(u),u in zn)return;zn[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":yc,c||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),c)return new Promise((g,w)=>{p.addEventListener("load",g),p.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},wc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>fs(async()=>{const{default:r}=await Promise.resolve().then(()=>Mt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class ln extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class Sc extends ln{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ec extends ln{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Tc extends ln{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ir;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ir||(Ir={}));var kc=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class xc{constructor(e,{headers:s={},customFetch:r,region:n=Ir.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=wc(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return kc(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(w=>{throw new Sc(w)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new Ec(c);if(!c.ok)throw new Tc(c);let p=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield c.json():p==="application/octet-stream"?g=yield c.blob():p==="text/event-stream"?g=c:p==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(n){return{data:null,error:n}}})}}function Oc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Pc(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var te={},mt={},yt={},bt={},wt={},St={},Ac=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Dt=Ac();const jc=Dt.fetch,ko=Dt.fetch.bind(Dt),xo=Dt.Headers,Cc=Dt.Request,Rc=Dt.Response,Mt=Object.freeze(Object.defineProperty({__proto__:null,Headers:xo,Request:Cc,Response:Rc,default:ko,fetch:jc},Symbol.toStringTag,{value:"Module"})),Ic=Pc(Mt);var ks={},Gn;function Oo(){if(Gn)return ks;Gn=1,Object.defineProperty(ks,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return ks.default=t,ks}var Yn;function Po(){if(Yn)return St;Yn=1;var t=St&&St.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(St,"__esModule",{value:!0});const e=t(Ic),s=t(Oo());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,h,p;let g=null,w=null,P=null,A=u.status,C=u.statusText;if(u.ok){if(this.method!=="HEAD"){const L=await u.text();L===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=L:w=JSON.parse(L))}const k=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),E=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");k&&E&&E.length>1&&(P=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(g={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,P=null,A=406,C="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const k=await u.text();try{g=JSON.parse(k),Array.isArray(g)&&u.status===404&&(w=[],g=null,A=200,C="OK")}catch{u.status===404&&k===""?(A=204,C="No Content"):g={message:k}}if(g&&this.isMaybeSingle&&(!((p=g==null?void 0:g.details)===null||p===void 0)&&p.includes("0 rows"))&&(g=null,A=200,C="OK"),g&&this.shouldThrowOnError)throw new s.default(g)}return{error:g,data:w,count:P,status:A,statusText:C}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,h,p;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(p=u==null?void 0:u.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return St.default=r,St}var Qn;function Ao(){if(Qn)return wt;Qn=1;var t=wt&&wt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wt,"__esModule",{value:!0});const e=t(Po());class s extends e.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const h=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${p}"; options=${h};`,u==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return wt.default=s,wt}var Xn;function cn(){if(Xn)return bt;Xn=1;var t=bt&&bt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bt,"__esModule",{value:!0});const e=t(Ao());class s extends e.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${u}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return bt.default=s,bt}var Zn;function jo(){if(Zn)return yt;Zn=1;var t=yt&&yt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yt,"__esModule",{value:!0});const e=t(cn());class s{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=i,this.schema=o,this.fetch=a}select(n,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(n??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const u=n.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(n)){const h=n.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return yt.default=s,yt}var Wt={},Jt={},ei;function $c(){return ei||(ei=1,Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.version=void 0,Jt.version="0.0.0-automated"),Jt}var ti;function Uc(){if(ti)return Wt;ti=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.DEFAULT_HEADERS=void 0;const t=$c();return Wt.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Wt}var si;function Lc(){if(si)return mt;si=1;var t=mt&&mt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(mt,"__esModule",{value:!0});const e=t(jo()),s=t(cn()),r=Uc();class n{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let h;const p=new URL(`${this.url}/rpc/${o}`);let g;l||u?(h=l?"HEAD":"GET",Object.entries(a).filter(([P,A])=>A!==void 0).map(([P,A])=>[P,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([P,A])=>{p.searchParams.append(P,A)})):(h="POST",g=a);const w=Object.assign({},this.headers);return c&&(w.Prefer=`count=${c}`),new s.default({method:h,url:p,headers:w,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}}return mt.default=n,mt}var ri;function Dc(){if(ri)return te;ri=1;var t=te&&te.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(te,"__esModule",{value:!0}),te.PostgrestError=te.PostgrestBuilder=te.PostgrestTransformBuilder=te.PostgrestFilterBuilder=te.PostgrestQueryBuilder=te.PostgrestClient=void 0;const e=t(Lc());te.PostgrestClient=e.default;const s=t(jo());te.PostgrestQueryBuilder=s.default;const r=t(cn());te.PostgrestFilterBuilder=r.default;const n=t(Ao());te.PostgrestTransformBuilder=n.default;const i=t(Po());te.PostgrestBuilder=i.default;const o=t(Oo());return te.PostgrestError=o.default,te.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},te}var Mc=Dc();const Fc=Oc(Mc),{PostgrestClient:Nc,PostgrestQueryBuilder:Bh,PostgrestFilterBuilder:qh,PostgrestTransformBuilder:Hh,PostgrestBuilder:Kh,PostgrestError:Vh}=Fc;let $r;typeof window>"u"?$r=require("ws"):$r=window.WebSocket;const Bc="2.11.10",qc={"X-Client-Info":`realtime-js/${Bc}`},Hc="1.0.0",Co=1e4,Kc=1e3;var Ut;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ut||(Ut={}));var le;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(le||(le={}));var Se;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Se||(Se={}));var Ur;(function(t){t.websocket="websocket"})(Ur||(Ur={}));var ft;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ft||(ft={}));class Vc{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Ro{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var G;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(G||(G={}));const ni=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Wc(o,t,e,n),i),{})},Wc=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?Io(i,o):Lr(o)},Io=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Yc(e,s)}switch(t){case G.bool:return Jc(e);case G.float4:case G.float8:case G.int2:case G.int4:case G.int8:case G.numeric:case G.oid:return zc(e);case G.json:case G.jsonb:return Gc(e);case G.timestamp:return Qc(e);case G.abstime:case G.date:case G.daterange:case G.int4range:case G.int8range:case G.money:case G.reltime:case G.text:case G.time:case G.timestamptz:case G.timetz:case G.tsrange:case G.tstzrange:return Lr(e);default:return Lr(e)}},Lr=t=>t,Jc=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},zc=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Gc=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Yc=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Io(e,a))}return t},Qc=t=>typeof t=="string"?t.replace(" ","T"):t,$o=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class _r{constructor(e,s,r={},n=Co){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ii;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ii||(ii={}));class ss{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ss.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=ss.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=ss.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const p=c.map(A=>A.presence_ref),g=h.map(A=>A.presence_ref),w=c.filter(A=>g.indexOf(A.presence_ref)<0),P=h.filter(A=>p.indexOf(A.presence_ref)<0);w.length>0&&(a[u]=w),P.length>0&&(l[u]=P)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(g=>g.presence_ref),p=c.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var oi;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(oi||(oi={}));var ai;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ai||(ai={}));var Me;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Me||(Me={}));class un{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new _r(this,Se.join,this.params,this.timeout),this.rejoinTimer=new Ro(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=le.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Se.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new ss(this),this.broadcastEndpointURL=$o(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(Me.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(Me.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){e==null||e(Me.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,w=[];for(let P=0;P<g;P++){const A=p[P],{filter:{event:C,schema:M,table:k,filter:E}}=A,L=c&&c[P];if(L&&L.event===C&&L.schema===M&&L.table===k&&L.filter===E)w.push(Object.assign(Object.assign({},A),{id:L.id}));else{this.unsubscribe(),this.state=le.errored,e==null||e(Me.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(Me.SUBSCRIBED);return}}).receive("error",c=>{this.state=le.errored,e==null||e(Me.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Me.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=le.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Se.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const n=new _r(this,Se.leave,{},e);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new _r(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Se;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var w,P,A;return((w=g.filter)===null||w===void 0?void 0:w.event)==="*"||((A=(P=g.filter)===null||P===void 0?void 0:P.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===o}).map(g=>g.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var w,P,A,C,M,k;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const E=g.id,L=(w=g.filter)===null||w===void 0?void 0:w.event;return E&&((P=s.ids)===null||P===void 0?void 0:P.includes(E))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===((A=s.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const E=(M=(C=g==null?void 0:g.filter)===null||C===void 0?void 0:C.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return E==="*"||E===((k=s==null?void 0:s.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const w=p.data,{schema:P,table:A,commit_timestamp:C,type:M,errors:k}=w;p=Object.assign(Object.assign({},{schema:P,table:A,commit_timestamp:C,eventType:M,new:{},old:{},errors:k}),this._getPayloadRecords(w))}g.callback(p,r)})}_isClosed(){return this.state===le.closed}_isJoined(){return this.state===le.joined}_isJoining(){return this.state===le.joining}_isLeaving(){return this.state===le.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&un.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Se.close,{},e)}_onError(e){this._on(Se.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=le.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=ni(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=ni(e.columns,e.old_record)),s}}const li=()=>{},Xc=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zc{constructor(e,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=qc,this.params={},this.timeout=Co,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=li,this.ref=0,this.logger=li,this.conn=null,this.sendBuffer=[],this.serializer=new Vc,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>fs(async()=>{const{default:l}=await Promise.resolve().then(()=>Mt);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Ur.websocket}`,this.httpEndpoint=$o(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ro(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=$r),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new eu(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Hc}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ut.connecting:return ft.Connecting;case Ut.open:return ft.Open;case Ut.closing:return ft.Closing;default:return ft.Closed}}isConnected(){return this.connectionState()===ft.Open}channel(e,s={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===r);if(n)return n;{const i=new un(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{s&&r.updateJoinPayload({access_token:s,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Se.access_token,{access_token:s})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Kc,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;r==="phoenix"&&n==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Se.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Xc],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class eu{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ut.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class hn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function se(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class tu extends hn{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Dr extends hn{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var su=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Uo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>fs(async()=>{const{default:r}=await Promise.resolve().then(()=>Mt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},ru=()=>su(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fs(()=>Promise.resolve().then(()=>Mt),void 0)).Response:Response}),Mr=t=>{if(Array.isArray(t))return t.map(s=>Mr(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Mr(r)}),e};var _t=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const vr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nu=(t,e,s)=>_t(void 0,void 0,void 0,function*(){const r=yield ru();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{e(new tu(vr(n),t.status||500))}).catch(n=>{e(new Dr(vr(n),n))}):e(new Dr(vr(t),t))}),iu=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function ps(t,e,s,r,n,i){return _t(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,iu(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>nu(l,a,r))})})}function Hs(t,e,s,r){return _t(this,void 0,void 0,function*(){return ps(t,"GET",e,s,r)})}function Ye(t,e,s,r,n){return _t(this,void 0,void 0,function*(){return ps(t,"POST",e,r,n,s)})}function ou(t,e,s,r,n){return _t(this,void 0,void 0,function*(){return ps(t,"PUT",e,r,n,s)})}function au(t,e,s,r){return _t(this,void 0,void 0,function*(){return ps(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Lo(t,e,s,r,n){return _t(this,void 0,void 0,function*(){return ps(t,"DELETE",e,r,n,s)})}var fe=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const lu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ci={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cu{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=Uo(n)}uploadOrUpdate(e,s,r,n){return fe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ci),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield h.json();return h.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(se(i))return{data:null,error:i};throw i}})}upload(e,s,r){return fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return fe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:ci.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield h.json();return h.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(se(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return fe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield Ye(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new hn("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}update(e,s,r){return fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return fe(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}copy(e,s,r){return fe(this,void 0,void 0,function*(){try{return{data:{path:(yield Ye(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return fe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield Ye(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return fe(this,void 0,void 0,function*(){try{const n=yield Ye(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}download(e,s){return fe(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Hs(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(se(a))return{data:null,error:a};throw a}})}info(e){return fe(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield Hs(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Mr(r),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}exists(e){return fe(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield au(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(se(r)&&r instanceof Dr){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return fe(this,void 0,void 0,function*(){try{return{data:yield Lo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}list(e,s,r){return fe(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},lu),s),{prefix:e||""});return{data:yield Ye(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const uu="2.7.1",hu={"X-Client-Info":`storage-js/${uu}`};var Et=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class du{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},hu),s),this.fetch=Uo(r)}listBuckets(){return Et(this,void 0,void 0,function*(){try{return{data:yield Hs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(se(e))return{data:null,error:e};throw e}})}getBucket(e){return Et(this,void 0,void 0,function*(){try{return{data:yield Hs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Et(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return Et(this,void 0,void 0,function*(){try{return{data:yield ou(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Et(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Et(this,void 0,void 0,function*(){try{return{data:yield Lo(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}})}}class fu extends du{constructor(e,s={},r){super(e,s,r)}from(e){return new cu(this.url,this.headers,e,this.fetch)}}const pu="2.50.0";let Gt="";typeof Deno<"u"?Gt="deno":typeof document<"u"?Gt="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gt="react-native":Gt="node";const gu={"X-Client-Info":`supabase-js-${Gt}/${pu}`},_u={headers:gu},vu={schema:"public"},mu={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yu={};var bu=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const wu=t=>{let e;return t?e=t:typeof fetch>"u"?e=ko:e=fetch,(...s)=>e(...s)},Su=()=>typeof Headers>"u"?xo:Headers,Eu=(t,e,s)=>{const r=wu(s),n=Su();return(i,o)=>bu(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Tu=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function ku(t){return t.endsWith("/")?t:t+"/"}function xu(t,e){var s,r;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:h}=e,p={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Tu(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}const Do="2.70.0",At=30*1e3,Fr=3,mr=Fr*At,Ou="http://localhost:9999",Pu="supabase.auth.token",Au={"X-Client-Info":`gotrue-js/${Do}`},Nr="X-Supabase-Api-Version",Mo={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ju=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Cu=6e5;class dn extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function U(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Ru extends dn{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Iu(t){return U(t)&&t.name==="AuthApiError"}class Fo extends dn{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class rt extends dn{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class Je extends rt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $u(t){return U(t)&&t.name==="AuthSessionMissingError"}class xs extends rt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Os extends rt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ps extends rt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Uu(t){return U(t)&&t.name==="AuthImplicitGrantRedirectError"}class ui extends rt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Br extends rt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function yr(t){return U(t)&&t.name==="AuthRetryableFetchError"}class hi extends rt{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class rs extends rt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ks="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),di=` 	
\r=`.split(""),Lu=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<di.length;e+=1)t[di[e].charCodeAt(0)]=-2;for(let e=0;e<Ks.length;e+=1)t[Ks[e].charCodeAt(0)]=e;return t})();function fi(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Ks[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Ks[r]),e.queuedBits-=6}}function No(t,e,s){const r=Lu[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function pi(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{Fu(o,r,s)};for(let o=0;o<t.length;o+=1)No(t.charCodeAt(o),n,i);return e.join("")}function Du(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Mu(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}Du(r,e)}}function Fu(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Nu(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)No(t.charCodeAt(n),s,r);return new Uint8Array(e)}function Bu(t){const e=[];return Mu(t,s=>e.push(s)),new Uint8Array(e)}function qu(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};return t.forEach(n=>fi(n,s,r)),fi(null,s,r),e.join("")}function Hu(t){return Math.round(Date.now()/1e3)+t}function Ku(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const we=()=>typeof window<"u"&&typeof document<"u",ct={tested:!1,writable:!1},ns=()=>{if(!we())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ct.tested)return ct.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ct.tested=!0,ct.writable=!0}catch{ct.tested=!0,ct.writable=!1}return ct.writable};function Vu(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const Bo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>fs(async()=>{const{default:r}=await Promise.resolve().then(()=>Mt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Wu=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",qo=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},As=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},js=async(t,e)=>{await t.removeItem(e)};class tr{constructor(){this.promise=new tr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}tr.promiseConstructor=Promise;function br(t){const e=t.split(".");if(e.length!==3)throw new rs("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!ju.test(e[r]))throw new rs("JWT not in base64url format");return{header:JSON.parse(pi(e[0])),payload:JSON.parse(pi(e[1])),signature:Nu(e[2]),raw:{header:e[0],payload:e[1]}}}async function Ju(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function zu(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Gu(t){return("0"+t.toString(16)).substr(-2)}function Yu(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,Gu).join("")}async function Qu(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function Xu(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Qu(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tt(t,e,s=!1){const r=Yu();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await qo(t,`${e}-code-verifier`,n);const i=await Xu(r);return[i,r===i?"plain":"s256"]}const Zu=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function eh(t){const e=t.headers.get(Nr);if(!e||!e.match(Zu))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function th(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function sh(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const rh=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kt(t){if(!rh.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var nh=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const dt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ih=[502,503,504];async function gi(t){var e;if(!Wu(t))throw new Br(dt(t),0);if(ih.includes(t.status))throw new Br(dt(t),t.status);let s;try{s=await t.json()}catch(i){throw new Fo(dt(i),i)}let r;const n=eh(t);if(n&&n.getTime()>=Mo["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new hi(dt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Je}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new hi(dt(s),t.status,s.weak_password.reasons);throw new Ru(dt(s),t.status||500,r)}const oh=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function F(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[Nr]||(i[Nr]=Mo["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await ah(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function ah(t,e,s,r,n,i){const o=oh(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Br(dt(l),0)}if(a.ok||await gi(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await gi(l)}}function Le(t){var e;let s=null;hh(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Hu(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function _i(t){const e=Le(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Qe(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function lh(t){return{data:t,error:null}}function ch(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=nh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function uh(t){return t}function hh(t){return t.access_token&&t.refresh_token&&t.expires_in}const wr=["global","local","others"];var dh=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class fh{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=Bo(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=wr[0]){if(wr.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wr.join(", ")}`);try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Qe})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=dh(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:ch,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(U(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Qe})}catch(s){if(U(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:uh});if(c.error)throw c.error;const h=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(w=>{const P=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(w.split(";")[1].split("=")[1]);u[`${A}Page`]=P}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(U(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){kt(e);try{return await F(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Qe})}catch(s){if(U(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){kt(e);try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Qe})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){kt(e);try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Qe})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){kt(e.userId);try{const{data:s,error:r}=await F(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(U(s))return{data:null,error:s};throw s}}async _deleteFactor(e){kt(e.userId),kt(e.id);try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(U(s))return{data:null,error:s};throw s}}}const ph={getItem:t=>ns()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ns()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ns()&&globalThis.localStorage.removeItem(t)}};function vi(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function gh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xt={debug:!!(globalThis&&ns()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ho extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class _h extends Ho{}async function vh(t,e,s){xt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),xt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){xt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{xt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw xt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new _h(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(xt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}gh();const mh={url:Ou,storageKey:Pu,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Au,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function mi(t,e,s){return await s()}class us{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=us.nextInstanceID,us.nextInstanceID+=1,this.instanceID>0&&we()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},mh),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new fh({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Bo(n.fetch),this.lock=n.lock||mi,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:we()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=vh:this.lock=mi,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:ns()?this.storage=ph:(this.memoryStorage={},this.storage=vi(this.memoryStorage)):(this.memoryStorage={},this.storage=vi(this.memoryStorage)),we()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Do}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=Vu(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),we()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Uu(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return U(s)?{error:s}:{error:new Fo("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:Le}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:h,options:p}=e;let g=null,w=null;this.flowType==="pkce"&&([g,w]=await Tt(this.storage,this.storageKey)),i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:h,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:w},xform:Le})}else if("phone"in e){const{phone:c,password:h,options:p}=e;i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Le})}else throw new Os("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_i})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_i})}else throw new Os("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new xs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;if(s==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(e){var s,r,n,i,o,a,l,u,c,h,p,g;let w,P;if("message"in e)w=e.message,P=e.signature;else{const{chain:A,wallet:C,statement:M,options:k}=e;let E;if(we())if(typeof C=="object")E=C;else{const q=window;if("solana"in q&&typeof q.solana=="object"&&("signIn"in q.solana&&typeof q.solana.signIn=="function"||"signMessage"in q.solana&&typeof q.solana.signMessage=="function"))E=q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=C}const L=new URL((s=k==null?void 0:k.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in E&&E.signIn){const q=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),M?{statement:M}:null));let Q;if(Array.isArray(q)&&q[0]&&typeof q[0]=="object")Q=q[0];else if(q&&typeof q=="object"&&"signedMessage"in q&&"signature"in q)Q=q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)w=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),P=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${L.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(n=(r=k==null?void 0:k.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=k==null?void 0:k.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((o=k==null?void 0:k.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((a=k==null?void 0:k.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((l=k==null?void 0:k.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((h=(c=k==null?void 0:k.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...k.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const q=await E.signMessage(new TextEncoder().encode(w),"utf8");if(!q||!(q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");P=q}}try{const{data:A,error:C}=await F(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:qu(P)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Le});if(C)throw C;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new xs}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:C})}catch(A){if(U(A))return{data:{user:null,session:null},error:A};throw A}}async _exchangeCodeForSession(e){const s=await As(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Le});if(await js(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new xs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(U(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Le}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new xs}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Tt(this.storage,this.storageKey));const{error:h}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Os("You must provide either an email or phone number.")}catch(a){if(U(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Le});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(U(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Tt(this.storage,this.storageKey)),await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:lh})}catch(i){if(U(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new Je;const{error:n}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(U(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await F(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await F(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Os("You must provide either an email or phone number and a type")}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await As(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<mr:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Qe}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Je}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Qe})})}catch(s){if(U(s))return $u(s)&&(await this._removeSession(),await js(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new Je;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Tt(this.storage,this.storageKey));const{data:u,error:c}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Qe});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Je;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=br(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(U(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Je;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!we())throw new Ps("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ps(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new ui("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ps("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ui("No code detected.");const{data:M,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Ps("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let p=c+h;l&&(p=parseInt(l));const g=p-c;g*1e3<=At&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const w=p-h;c-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,p,c):c-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,p,c);const{data:P,error:A}=await this._getUser(i);if(A)throw A;const C={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:e.type},error:null}}catch(r){if(U(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await As(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Iu(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await js(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=Ku(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Tt(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(U(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(U(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return we()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(U(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(U(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await zu(async n=>(n>0&&await Ju(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Le})),(n,i)=>{const o=200*Math.pow(2,n);return i&&yr(i)&&Date.now()+o-r<At})}catch(r){if(this._debug(s,"error",r),U(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),we()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await As(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<mr;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${mr}s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),yr(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new Je;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new tr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Je;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),U(i)){const o={session:null,error:i};return yr(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await qo(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await js(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&we()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),At);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/At);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${At}ms, refresh threshold is ${Fr} ticks`),n<=Fr&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ho)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!we()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Tt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await F(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(U(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await F(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(U(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(U(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(U(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=br(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Cu>Date.now()))return r;const{data:n,error:i}=await F(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new rs("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(o=>o.kid===e),!r)throw new rs("No matching signing key found in JWKS");return r}async getClaims(e,s={keys:[]}){try{let r=e;if(!r){const{data:g,error:w}=await this.getSession();if(w||!g.session)return{data:null,error:w};r=g.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=br(r);if(th(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:n,signature:o},error:null}}const u=sh(n.alg),c=await this.fetchJwk(n.kid,s),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Bu(`${a}.${l}`)))throw new rs("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}}us.nextInstanceID=0;const yh=us;class bh extends yh{constructor(e){super(e)}}var wh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Sh{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=ku(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:vu,realtime:yu,auth:Object.assign(Object.assign({},mu),{storageKey:u}),global:_u},h=xu(r??{},c);this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Eu(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Nc(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new xc(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new fu(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return wh(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bh({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Zc(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Eh=(t,e,s)=>new Sh(t,e,s),Ko="https://nubiifsatyqablbkbwxw.supabase.co",Th="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im51YmlpZnNhdHlxYWJsYmtid3h3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkyMzE4NzksImV4cCI6MjA2NDgwNzg3OX0.foMKSd5kjFyOjWQCL6G2jwQ8fZekqYygOO2YdLyUPp8";console.log("Supabase initialized with URL:",Ko.substring(0,30)+"...");const Cs=Eh(Ko,Th),Vo=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},kh={class:"card"},xh={class:"form-buttons"},Oh={type:"submit",class:"btn-primary"},Ph={key:0,class:"error-message"},Ah={class:"card"},jh={key:0,class:"loading"},Ch={key:1,class:"no-records"},Rh={key:2,class:"table-container"},Ih={class:"actions"},$h=["onClick"],Uh=["onClick"],Lh={__name:"VacunasControl",setup(t){const e=Kt([]),s=Kt(!1),r=Kt(""),n=Kt({paciente:"",vacuna:"",fecha:"",observaciones:""}),i=Kt(null);async function o(){s.value=!0;const{data:c,error:h}=await Cs.from("vacunas").select("*").order("fecha",{ascending:!1});h?r.value=h.message:e.value=c,s.value=!1}async function a(){if(r.value="",!n.value.paciente||!n.value.vacuna||!n.value.fecha){r.value="Paciente, vacuna y fecha son obligatorios.";return}let c;i.value?c=await Cs.from("vacunas").update({...n.value}).eq("id",i.value):c=await Cs.from("vacunas").insert([{...n.value}]),c.error?r.value=c.error.message:(n.value={paciente:"",vacuna:"",fecha:"",observaciones:""},i.value=null,o())}function l(c){n.value={...c},i.value=c.id}async function u(c){if(!confirm("¿Eliminar este registro?"))return;const{error:h}=await Cs.from("vacunas").delete().eq("id",c);h?r.value=h.message:o()}return Xi(o),(c,h)=>(Ce(),We(Ee,null,[h[8]||(h[8]=B("div",{class:"header"},[B("h1",null,"🏥 Sistema de Control de Vacunas"),B("p",null,"Gestiona y controla el registro de vacunación de pacientes")],-1)),B("div",kh,[h[5]||(h[5]=B("h2",null,"📝 Registro de Vacunas",-1)),B("form",{onSubmit:fc(a,["prevent"])},[Es(B("input",{"onUpdate:modelValue":h[0]||(h[0]=p=>n.value.paciente=p),placeholder:"Nombre del paciente",required:""},null,512),[[Ts,n.value.paciente]]),Es(B("input",{"onUpdate:modelValue":h[1]||(h[1]=p=>n.value.vacuna=p),placeholder:"Tipo de vacuna",required:""},null,512),[[Ts,n.value.vacuna]]),Es(B("input",{"onUpdate:modelValue":h[2]||(h[2]=p=>n.value.fecha=p),type:"date",required:""},null,512),[[Ts,n.value.fecha]]),Es(B("input",{"onUpdate:modelValue":h[3]||(h[3]=p=>n.value.observaciones=p),placeholder:"Observaciones (opcional)"},null,512),[[Ts,n.value.observaciones]]),B("div",xh,[B("button",Oh,ut(i.value?"✏️ Actualizar":"💉 Registrar"),1),i.value?(Ce(),We("button",{key:0,type:"button",class:"btn-secondary",onClick:h[4]||(h[4]=()=>{n.value={paciente:"",vacuna:"",fecha:"",observaciones:""},i.value=null})}," ❌ Cancelar ")):Cn("",!0)])],32),r.value?(Ce(),We("p",Ph,ut(r.value),1)):Cn("",!0)]),B("div",Ah,[h[7]||(h[7]=B("h2",null,"📋 Vacunas Registradas",-1)),s.value?(Ce(),We("div",jh,"🔄 Cargando registros...")):e.value.length===0?(Ce(),We("div",Ch," 📝 No hay registros de vacunas aún. ¡Registra la primera vacuna! ")):(Ce(),We("div",Rh,[B("table",null,[h[6]||(h[6]=B("thead",null,[B("tr",null,[B("th",null,"👤 Paciente"),B("th",null,"💉 Vacuna"),B("th",null,"📅 Fecha"),B("th",null,"📝 Observaciones"),B("th",null,"⚙️ Acciones")])],-1)),B("tbody",null,[(Ce(!0),We(Ee,null,el(e.value,p=>(Ce(),We("tr",{key:p.id},[B("td",null,ut(p.paciente),1),B("td",null,ut(p.vacuna),1),B("td",null,ut(p.fecha),1),B("td",null,ut(p.observaciones||"Sin observaciones"),1),B("td",Ih,[B("button",{onClick:g=>l(p),class:"btn-edit"},"✏️ Editar",8,$h),B("button",{onClick:g=>u(p.id),class:"btn-delete"},"🗑️ Eliminar",8,Uh)])]))),128))])])]))])],64))}},Dh=Vo(Lh,[["__scopeId","data-v-50845781"]]),Mh={__name:"App",setup(t){return(e,s)=>(Ce(),yo(Dh))}},Fh=Vo(Mh,[["__scopeId","data-v-6b4767ed"]]);console.log("Environment check:",{hasSupabaseUrl:!0,hasSupabaseKey:!0});_c(Fh).mount("#app");
